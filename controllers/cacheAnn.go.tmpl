// This file is autogenerated.
package controller

{{- $nbImp := len .Imports }}{{ $nbMeth := len .Annotations }}
{{- if not (eq $nbImp 0) }}

import (
{{- range .Imports}}
    "{{.}}"{{end}}
)
{{- end }}

func PrepareControllerAnnotationsLoader() error {
    {{- if not (eq $nbMeth 0) }}
    cr := controllers.RegistryInstance()
    {{- range $method, $methodAnnotations := .Annotations }}
    cr.Annotations["{{ $method }}"] = make(map[string]annotation.IAnnotation)
    {{- range $name, $annotation := $methodAnnotations }}
    cr.Annotations["{{ $method }}"]["{{ $annotation.Name }}"] = &annotation.Annotation{}
    cr.Annotations["{{ $method }}"]["{{ $annotation.Name }}"].
        SetName("{{ escapeDoubleQuotes $annotation.Name }}").
        SetPlainText(`{{ escapeDoubleQuotes $annotation.PlainText }}`).
        SetData([]interface{}{
            {{- range $k, $v := $annotation.Data }}{{ sTypedPrint $v }},{{end}}
        }).
        SetDataAssoc(map[string]interface{}{
          {{- range $k, $v := $annotation.DataAssoc}}
          "{{ $k }}" : {{ sTypedPrint $v }},
          {{- end}}
        })
    {{- end}}

    {{- end}}
    {{- end }}
    return nil
}
